Dir=linlib/ \
linlib/commonlib/ \
linlib/netlib/ \
work/test1/




#---------------------------
test1Src=$(foreach dir,$(Dir), $(wildcard $(dir)*.cpp))
test1Obj=$(patsubst %.cpp,%.o,$(test1Src))

#---------------------------
makeDir=./makeDir
test1 = bin/test1

#---------------------------
Inc =$(foreach dir,$(Dir),-I $(dir)) -I ./
Lib = -lpthread
CC=g++
#---------------------------

.PHONY: all clean

all:	$(makeDir) $(test1)
	@echo all is ok


$(makeDir):
	mkdir -p bin/

#------------ 
$(test1):$(test1Obj)
	$(CC) $(Lib) -o $@ $^

linlib/commonlib/%.o:linlib/commonlib/%.cpp
	$(CC) $(Inc) $(Lib) -c -o $@ $^

linlib/netlib/%.o:linlib/netlib/%.cpp
	$(CC) $(Inc) $(Lib) -c -o $@ $^

work/test1/%.o:work/test1/%.cpp
	$(CC) $(Inc) $(Lib) -c -o $@ $^





clean:
	rm -rf $(test1Obj)
	rm -rf $(test1)

