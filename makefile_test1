Dir=linlib/ \
linlib/commonlib/ \
linlib/netlib/ \
work/test1/




#---------------------------
test1Src=$(foreach dir,$(Dir), $(wildcard $(dir)*.cpp))
test1Obj=$(patsubst %.cpp,%.o,$(test1Src))

#---------------------------
makeDir=./makeDir
test1 = bin/test1
clienttest1 = bin/clienttest1

#---------------------------
Inc =$(foreach dir,$(Dir),-I $(dir)) -I ./
Lib = -lpthread
CC=g++
#---------------------------

.PHONY: all clean

all:	$(makeDir) $(test1) $(clienttest1)
	@echo all is ok

#------------ 
$(makeDir):
	mkdir -p bin/

#------------ 
$(test1):$(test1Obj)
	$(CC) $(Lib) -o $@ $^

linlib/commonlib/%.o:linlib/commonlib/%.cpp
	$(CC) $(Inc) -c -o $@ $^

linlib/netlib/%.o:linlib/netlib/%.cpp
	$(CC) $(Inc) -c -o $@ $^

work/test1/%.o:work/test1/%.cpp
	$(CC) $(Inc) -c -o $@ $^


#------------ 
$(clienttest1):client/clienttest1/base.h client/clienttest1/client.h client/clienttest1/client.cpp
	$(CC) $(Lib) -o $@ $^
#------------ 


clean:
	rm -rf $(test1Obj)
	rm -rf $(test1)
	rm -rf $(clienttest1)

